import joblib
import pandas as pd
from sklearn.pipeline import Pipeline
from sklearn.preprocessing import StandardScaler
from sklearn.linear_model import LinearRegression

# Exemple minimal pour créer le pipeline
X_train = pd.DataFrame([[1,2,3,4,5,6,7,8]], columns=[
    "MedInc","HouseAge","AveRooms","AveBedrms","Population","AveOccup","Latitude","Longitude"])
y_train = [100000]

pipeline = Pipeline([
    ('scaler', StandardScaler()),
    ('reg', LinearRegression())
])

pipeline.fit(X_train, y_train)

# Sauvegarde sur Cloud
joblib.dump(pipeline, 'modele_regression_lineaire.joblib')
print("✅ Modèle sauvegardé avec succès !")
